# Résumé

 Dans ce chapitre, nous avons discuté des nouvelles approches de la conception des systèmes de données, et j'ai inclus mes opinions et spéculations personnelles sur l'avenir. Nous avons commencé par observer qu'il n'existe pas d'outil unique capable de répondre efficacement à tous les cas d'utilisation possibles, et que les applications doivent donc nécessairement composer plusieurs logiciels différents pour atteindre leurs objectifs. Nous avons discuté de la manière de résoudre ce problème d'intégration des données en utilisant le traitement par lots et les flux d'événements pour permettre aux changements de données de circuler entre différents systèmes.

Dans cette approche, certains systèmes sont désignés comme systèmes d'enregistrement, et d'autres données sont dérivées de ceux-ci par le biais de transformations. De cette façon, nous pouvons maintenir des index, des vues matérialisées, des modèles d'apprentissage automatique, des résumés statistiques, etc. En rendant ces dérivations et transformations asynchrones et faiblement couplées, on empêche un problème dans un domaine de se propager à des parties non liées du système, ce qui augmente la robustesse et la tolérance aux pannes du système dans son ensemble.

L'expression des flux de données sous forme de transformations d'un ensemble de données à un autre facilite également l'évolution des applications : si vous souhaitez modifier l'une des étapes du traitement, par exemple pour changer la structure d'un index ou d'un cache, il vous suffit de réexécuter le nouveau code de transformation sur l'ensemble des données d'entrée pour obtenir à nouveau la sortie. De même, si quelque chose ne va pas, vous pouvez corriger le code et retraiter les données afin de récupérer.

Ces processus sont assez similaires à ce que les bases de données font déjà en interne, nous avons donc reformulé l'idée des applications de flux de données comme étant le dégroupage des composants d'une base de données, et la construction d'une application en composant ces composants faiblement couplés.

L'état dérivé peut être mis à jour en observant les changements dans les données sous-jacentes. De plus, l'état dérivé lui-même peut être observé par les consommateurs en aval. Nous pouvons même faire passer ce flux de données jusqu'à l'appareil de l'utilisateur final qui affiche les données, et ainsi construire des interfaces utilisateur qui se mettent à jour dynamiquement pour refléter les changements de données et continuer à fonctionner hors ligne.

Ensuite, nous avons discuté de la manière de garantir que tout ce traitement reste correct en présence de fautes. Nous avons vu que de fortes garanties d'intégrité peuvent être mises en œuvre de manière évolutive avec le traitement asynchrone des événements, en utilisant des identificateurs d'opération de bout en bout pour rendre les opérations idempotentes et en vérifiant les contraintes de manière asynchrone. Les clients peuvent soit attendre que la vérification soit passée, soit continuer sans attendre mais risquer de devoir s'excuser d'une violation de contrainte. Cette approche est beaucoup plus évolutive et robuste que l'approche traditionnelle qui consiste à utiliser des transactions distribuées, et correspond à la façon dont de nombreux processus commerciaux fonctionnent dans la pratique.

En structurant les applications autour du flux de données et en vérifiant les contraintes de manière asynchrone, nous pouvons éviter la plupart des coordinations et créer des systèmes qui maintiennent l'intégrité tout en restant performants, même dans des scénarios géographiquement distribués et en présence de fautes. Nous avons ensuite parlé un peu de l'utilisation des audits pour vérifier l'intégrité des données et détecter la corruption.

Enfin, nous avons pris un peu de recul et examiné certains aspects éthiques de la création d'applications à forte intensité de données. Nous avons vu que si les données peuvent être utilisées pour faire le bien, elles peuvent aussi causer des dommages importants : justifier des décisions qui affectent gravement la vie des gens et sont difficiles à contester, conduire à la discrimination et à l'exploitation, normaliser la surveillance et exposer des informations intimes. Nous courons également le risque de violations de données, et nous pouvons constater qu'une utilisation bien intentionnée des données a des conséquences inattendues.

 Étant donné que les logiciels et les données ont un impact aussi important sur le monde, nous, les ingénieurs, devons nous rappeler que nous avons la responsabilité d'œuvrer pour le type de monde dans lequel nous voulons vivre : un monde qui traite les gens avec humanité et respect. J'espère que nous pourrons travailler ensemble à la réalisation de cet objectif. 
